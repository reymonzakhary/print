@use "animations.scss";
@use "blur.scss";
@use 'tailwindcss/base';
@use 'tailwindcss/components';
@use 'tailwindcss/utilities';
@import url(https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap);
@import url(https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap);

@layer base {
  :root {
    interpolate-size: allow-keywords;

    --vs-colors--lightest: rgba(60, 60, 60, 0.26);
    --vs-colors--light: rgba(60, 60, 60, 0.5);
    --vs-colors--dark: #333;
    --vs-colors--darkest: rgba(0, 0, 0, 0.15);
    --vs-search-input-color: inherit;
    --vs-search-input-bg: #fff;
    --vs-search-input-placeholder-color: inherit;
    --vs-font-size: 1rem;
    --vs-line-height: 1.4;
    --vs-state-disabled-bg: #f8f8f8;
    --vs-state-disabled-color: var(--vs-colors--light);
    --vs-state-disabled-controls-color: var(--vs-colors--light);
    --vs-state-disabled-cursor: not-allowed;
    --vs-border-color: var(--vs-colors--lightest);
    --vs-border-width: 1px;
    --vs-border-style: solid;
    --vs-border-radius: 4px;
    --vs-actions-padding: 4px 6px 0 3px;
    --vs-controls-color: var(--vs-colors--light);
    --vs-controls-size: 1;
    --vs-controls--deselect-text-shadow: 0 1px 0 #fff;
    --vs-selected-bg: #f0f0f0;
    --vs-selected-color: var(--vs-colors--dark);
    --vs-selected-border-color: var(--vs-border-color);
    --vs-selected-border-style: var(--vs-border-style);
    --vs-selected-border-width: var(--vs-border-width);
    --vs-selected-padding: 0 .25em;
    --vs-dropdown-bg: #fff;
    --vs-dropdown-color: inherit;
    --vs-dropdown-z-index: 1000;
    --vs-dropdown-min-width: 160px;
    --vs-dropdown-max-height: 350px;
    --vs-dropdown-box-shadow: 0px 3px 6px 0px var(--vs-colors--darkest);
    --vs-dropdown-option-bg: #000;
    --vs-dropdown-option-color: var(--vs-dropdown-color);
    --vs-dropdown-option-padding: 3px 20px;
    --vs-dropdown-option--active-bg: #5897fb;
    --vs-dropdown-option--active-color: #fff;
    --vs-dropdown-option--deselect-bg: #fb5858;
    --vs-dropdown-option--deselect-color: #fff;
    --vs-transition-timing-function: cubic-bezier(1, 0.5, 0.8, 1);
    --vs-transition-duration: 0.15s
  }

  body {
    @apply bg-gray-100;
  }

  details>summary {
    list-style: none;
    @apply flex items-center justify-between gap-1 text-xs font-bold tracking-wide uppercase cursor-pointer text-theme-500 hover:text-theme-800;
  }

  summary::-webkit-details-marker {
    display: none;
  }

  summary::after {
    content: " ►";
  }

  details[open] summary:after {
    content: " ▼";
  }

  details[disabled] summary:after {
    content: " ✕";
  }

  details[disabled]>summary {
    pointer-events: none;
    opacity: 0.5;
  }

  details+[data-details] {
    max-height: 0;
    overflow: hidden;
    opacity: 0.5;
    transition: all 250ms cubic-bezier(0.83, 0, 0.17, 1);
  }

  details[open]+[data-details] {
    max-height: 1000px;
    opacity: 1;
    animation: overflow-visible 250ms forwards;
  }

  ////////////////////////////////////////////
  /////////// style general scrollbar ////////
  ////////////////////////////////////////////
  /* Webkit browsers (Chrome, Safari) */
  ::-webkit-scrollbar-track {
    @apply bg-theme-100 rounded-full overflow-visible;
    background-clip: content-box;
  }

  ::-webkit-scrollbar {
    @apply mx-1 w-2 h-2;
  }

  ::-webkit-scrollbar:hover {
    width: 12px;
    height: 12px;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-theme-500 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-theme-400;
  }

  /* Firefox */
  /* disabled as this influences scrollbars accros edge and chrome in a bad way... */
  // * {
  //   scrollbar-width: thin;
  //   scrollbar-color: theme('colors.theme.500') theme('colors.theme.100');
  // }

  /* Edge and IE */
  @supports (-ms-overflow-style: none) {
    * {
      -ms-overflow-style: auto;
    }

    *::-ms-scrollbar-track {
      background-color: theme('colors.theme.100');
      border-radius: 9999px;
    }

    *::-ms-scrollbar {
      width: 8px;
      height: 6px;
      margin-left: 0.25rem;
      margin-right: 0.25rem;

      &hover {
        width: 12px
      }
    }

    *::-ms-scrollbar-thumb {
      background-color: theme('colors.theme.500');
      border-radius: 9999px;
    }
  }

  ////////////////////////////////////////////
}

// end BASE LAYER


@layer components {
  .bg-isometric {
    --line-colour: rgba(102, 102, 102, 0.15);
    --background-colour: oklch(0.97 0 0);
    --lightened-bg: oklch(0.98 0 0);
    --angle: 25deg;
    --dimension-ratio: 0.47;
    --grid-width: 95px;

    position: relative;
    background-image:
      linear-gradient(var(--angle), transparent 49%, var(--line-colour) 50%, transparent 51%),
      linear-gradient(calc(360deg - var(--angle)), transparent 49%, var(--line-colour) 50%, transparent 51%),
      radial-gradient(ellipse farthest-corner at center, var(--lightened-bg) 0%, var(--background-colour) 100%);
    background-size:
      var(--grid-width) calc(var(--grid-width) * var(--dimension-ratio)),
      var(--grid-width) calc(var(--grid-width) * var(--dimension-ratio)),
      cover;
    background-repeat:
      repeat,
      repeat,
      no-repeat;
    background-position:
      center,
      center,
      center;
    background-attachment: fixed;
  }

  .bg-isometric::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50dvh;
    background-image: linear-gradient(to bottom,
        var(--background-colour) 0%,
        rgba(245, 245, 245, 0.9) 30%,
        rgba(245, 245, 245, 0.6) 60%,
        rgba(245, 245, 245, 0) 100%);
    pointer-events: none;
    z-index: -1;
  }

  .input {
    @apply text-black w-full p-2 transition-all duration-100 bg-white border rounded shadow-inner hover:bg-gray-50 dark:bg-gray-700 dark:shadow-gray-800 dark:border-gray-900 focus:outline-none focus:ring ring-theme-100 focus:border-theme-400 disabled:bg-gray-100 disabled:cursor-not-allowed;
  }

  .dark .input {
    @apply text-white
  }

  .tooltip {
    display: block !important;
    z-index: 10000;

    .tooltip-arrow {
      width: 0;
      height: 0;
      border-style: solid;
      position: absolute;
      margin: 5px;
      @apply border-gray-900;
      z-index: 1;
    }

    &[x-placement^="top"] {
      margin-bottom: 5px;

      .tooltip-arrow {
        border-width: 5px 5px 0 5px;
        border-left-color: transparent !important;
        border-right-color: transparent !important;
        border-bottom-color: transparent !important;
        bottom: -5px;
        left: calc(50% - 5px);
        margin-top: 0;
        margin-bottom: 0;
      }
    }

    &[x-placement^="bottom"] {
      margin-top: 5px;

      .tooltip-arrow {
        border-width: 0 5px 5px 5px;
        border-left-color: transparent !important;
        border-right-color: transparent !important;
        border-top-color: transparent !important;
        top: -5px;
        left: calc(50% - 5px);
        margin-top: 0;
        margin-bottom: 0;
      }
    }

    &[x-placement^="right"] {
      margin-left: 5px;

      .tooltip-arrow {
        border-width: 5px 5px 5px 0;
        border-left-color: transparent !important;
        border-top-color: transparent !important;
        border-bottom-color: transparent !important;
        left: -5px;
        top: calc(50% - 5px);
        margin-left: 0;
        margin-right: 0;
      }
    }

    &[x-placement^="left"] {
      margin-right: 5px;

      .tooltip-arrow {
        border-width: 5px 0 5px 5px;
        border-top-color: transparent !important;
        border-right-color: transparent !important;
        border-bottom-color: transparent !important;
        right: -5px;
        top: calc(50% - 5px);
        margin-left: 0;
        margin-right: 0;
      }
    }

    &.popover {
      $color: #3360ff;

      .popover-arrow {
        border-color: $color;
      }
    }

    &[aria-hidden='true'] {
      visibility: hidden;
      opacity: 0;
      transition: opacity .15s, visibility .15s;
    }

    &[aria-hidden='false'] {
      visibility: visible;
      opacity: 1;
      transition: opacity .15s;
    }
  }
}

@layer utilities {
  .scrollbar-hide {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  @keyframes highlight {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }

    50% {
      opacity: 1;
      transform: scale(1.05);
    }

    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-highlight {
    animation: highlight 0.3s ease-out forwards;
  }

  .prindustry-transition {
    transition: all 250ms cubic-bezier(0.83, 0, 0.17, 1);
  }

  /* Hide scrollbar for Chrome, Safari and Opera */
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .hide-scrollbar {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
  }

  .stack {
    display: grid;
    place-content: center;
    place-items: center;

    >* {
      grid-area: 1 / 1;
    }
  }

  .filter-blue {
    filter: grayscale(100%) sepia(100%) hue-rotate(150deg);
  }

  .text-highlight-option {
    @apply inline-block bg-gradient-to-r bg-clip-text font-medium text-transparent from-pink-500 to-prindustry;
  }

  .gradient-highlight-option {
    @apply from-pink-500 to-prindustry;
  }

  /**
   * STUDIO STYLING
   */
  .studio-button {
    @apply relative bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-800 to-gray-700 font-medium text-gray-100 shadow-md [text-shadow:_0_1px_0_rgb(0_0_0_/_40%)] before:absolute before:inset-0 before:bg-[linear-gradient(45deg,transparent_25%,theme(colors.white/.5)_50%,transparent_75%,transparent_100%)] before:bg-[length:250%_250%,100%_100%] before:bg-[position:200%_0,0_0] before:bg-no-repeat before:[transition:background-position_0s_ease] hover:!text-theme-100 hover:before:bg-[position:-100%_0,0_0] hover:before:duration-[1500ms] dark:before:bg-[linear-gradient(45deg,transparent_25%,theme(colors.white)_50%,transparent_75%,transparent_100%)]
  }
}

@keyframes overflow-visible {
  0% {
    overflow: hidden;
  }

  100% {
    overflow: visible;
  }
}

.v-select {
  font-family: inherit;
  position: relative
}

.v-select,
.v-select * {
  box-sizing: border-box
}

.dark .vs__dropdown-menu {
  @apply bg-gray-800 text-gray-100;
}

@-webkit-keyframes vSelectSpinner {
  0% {
    transform: rotate(0deg)
  }

  to {
    transform: rotate(1turn)
  }
}

@keyframes vSelectSpinner {
  0% {
    transform: rotate(0deg)
  }

  to {
    transform: rotate(1turn)
  }
}

.vs__fade-enter-active,
.vs__fade-leave-active {
  pointer-events: none;
  transition: opacity var(--vs-transition-duration) var(--vs-transition-timing-function)
}

.vs__fade-enter,
.vs__fade-leave-to {
  opacity: 0
}

:root {
  --vs-disabled-bg: var(--vs-state-disabled-bg);
  --vs-disabled-color: var(--vs-state-disabled-color);
  --vs-disabled-cursor: var(--vs-state-disabled-cursor)
}

.vs--disabled .vs__clear,
.vs--disabled .vs__dropdown-toggle,
.vs--disabled .vs__open-indicator,
.vs--disabled .vs__search,
.vs--disabled .vs__selected {
  background-color: var(--vs-disabled-bg);
  cursor: var(--vs-disabled-cursor)
}

.v-select[dir=rtl] .vs__actions {
  padding: 0 3px 0 6px
}

.v-select[dir=rtl] .vs__clear {
  margin-left: 6px;
  margin-right: 0
}

.v-select[dir=rtl] .vs__deselect {
  margin-left: 0;
  margin-right: 2px
}

.v-select[dir=rtl] .vs__dropdown-menu {
  text-align: right
}

.vs__dropdown-toggle {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background: var(--vs-search-input-bg);
  border: var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);
  border-radius: var(--vs-border-radius);
  display: flex;
  padding: 0 0 4px;
  white-space: normal
}

.vs__selected-options {
  display: flex;
  flex-basis: 100%;
  flex-grow: 1;
  flex-wrap: wrap;
  padding: 0 2px;
  position: relative
}

.vs__actions {
  align-items: center;
  display: flex;
  padding: var(--vs-actions-padding)
}

.vs--searchable .vs__dropdown-toggle {
  cursor: text
}

.vs--unsearchable .vs__dropdown-toggle {
  cursor: pointer
}

.vs--open .vs__dropdown-toggle {
  border-bottom-color: transparent;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0
}

.vs__open-indicator {
  fill: var(--vs-controls-color);
  transform: scale(var(--vs-controls-size));
  transition: transform var(--vs-transition-duration) var(--vs-transition-timing-function);
  transition-timing-function: var(--vs-transition-timing-function)
}

.vs--open .vs__open-indicator {
  transform: rotate(180deg) scale(var(--vs-controls-size))
}

.vs--loading .vs__open-indicator {
  opacity: 0
}

.vs__clear {
  fill: var(--vs-controls-color);
  background-color: transparent;
  border: 0;
  cursor: pointer;
  margin-right: 8px;
  padding: 0
}

.vs__dropdown-menu {
  background: var(--vs-dropdown-bg);
  border: var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);
  border-radius: 0 0 var(--vs-border-radius) var(--vs-border-radius);
  border-top-style: none;
  box-shadow: var(--vs-dropdown-box-shadow);
  box-sizing: border-box;
  color: var(--vs-dropdown-color);
  display: block;
  left: 0;
  list-style: none;
  margin: 0;
  max-height: var(--vs-dropdown-max-height);
  min-width: var(--vs-dropdown-min-width);
  overflow-y: auto;
  padding: 5px 0;
  position: absolute;
  text-align: left;
  top: calc(100% - var(--vs-border-width));
  width: 100%;
  z-index: var(--vs-dropdown-z-index)
}

.vs__no-options {
  text-align: center
}

.vs__dropdown-option {
  clear: both;
  color: var(--vs-dropdown-option-color);
  cursor: pointer;
  display: block;
  line-height: 1.42857143;
  padding: var(--vs-dropdown-option-padding);
  white-space: nowrap
}

.vs__dropdown-option--highlight {
  background: var(--vs-dropdown-option--active-bg);
  color: var(--vs-dropdown-option--active-color)
}

.vs__dropdown-option--deselect {
  background: var(--vs-dropdown-option--deselect-bg);
  color: var(--vs-dropdown-option--deselect-color)
}

.vs__dropdown-option--disabled {
  background: var(--vs-state-disabled-bg);
  color: var(--vs-state-disabled-color);
  cursor: var(--vs-state-disabled-cursor)
}

.vs__dropdown-option--selected {
  background-color: var(--theme-50);
  color: var(--theme-700);
}

.vs__selected {
  align-items: center;
  background-color: var(--vs-selected-bg);
  border: var(--vs-selected-border-width) var(--vs-selected-border-style) var(--vs-selected-border-color);
  border-radius: var(--vs-border-radius);
  color: var(--vs-selected-color);
  display: flex;
  line-height: var(--vs-line-height);
  margin: 4px 2px 0;
  padding: var(--vs-selected-padding);
  z-index: 0
}

.vs__deselect {
  fill: var(--vs-controls-color);
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background: none;
  border: 0;
  cursor: pointer;
  display: inline-flex;
  margin-left: 4px;
  padding: 0;
  text-shadow: var(--vs-controls--deselect-text-shadow)
}

.vs--single .vs__selected {
  background-color: transparent;
  border-color: transparent
}

.vs--single.vs--loading .vs__selected,
.vs--single.vs--open .vs__selected {
  opacity: .4;
  position: absolute
}

.vs--single.vs--searching .vs__selected {
  display: none
}

.vs__search::-webkit-search-cancel-button {
  display: none
}

.vs__search::-ms-clear,
.vs__search::-webkit-search-decoration,
.vs__search::-webkit-search-results-button,
.vs__search::-webkit-search-results-decoration {
  display: none
}

.vs__search,
.vs__search:focus {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background: none;
  border: 1px solid transparent;
  border-left: none;
  box-shadow: none;
  color: var(--vs-search-input-color);
  flex-grow: 1;
  font-size: var(--vs-font-size);
  line-height: var(--vs-line-height);
  margin: 4px 0 0;
  max-width: 100%;
  outline: none;
  padding: 0 7px;
  width: 0;
  z-index: 1
}

.vs__search::-moz-placeholder {
  color: var(--vs-search-input-placeholder-color)
}

.vs__search:-ms-input-placeholder {
  color: var(--vs-search-input-placeholder-color)
}

.vs__search::placeholder {
  color: var(--vs-search-input-placeholder-color)
}

.vs--unsearchable .vs__search {
  opacity: 1
}

.vs--unsearchable:not(.vs--disabled) .vs__search {
  cursor: pointer
}

.vs--single.vs--searching:not(.vs--open):not(.vs--loading) .vs__search {
  opacity: .2
}

.vs__spinner {
  align-self: center;
  -webkit-animation: vSelectSpinner 1.1s linear infinite;
  animation: vSelectSpinner 1.1s linear infinite;
  border: .9em solid hsla(0, 0%, 39%, .1);
  border-left-color: rgba(60, 60, 60, .45);
  font-size: 5px;
  opacity: 0;
  overflow: hidden;
  text-indent: -9999em;
  transform: translateZ(0) scale(var(--vs-controls--spinner-size, var(--vs-controls-size)));
  transition: opacity .1s
}

.vs__spinner,
.vs__spinner:after {
  border-radius: 50%;
  height: 5em;
  transform: scale(var(--vs-controls--spinner-size, var(--vs-controls-size)));
  width: 5em
}

.vs--loading .vs__spinner {
  opacity: 1
}

.v-select .vs__selected-options {
  overflow: hidden;
  max-height: 30px;
  flex-wrap: nowrap;
}

.v-select .vs__dropdown-toggle {
  max-height: 29px;
}

.v-select span.vs__selected {
  // white-space: nowrap;
  cursor: pointer;
  @apply truncate;
}

//
.has-icon .v-select.vs--open input.vs__search {
  padding-left: 2rem;
  padding-right: 2rem;
  @apply text-sm;
}

.has-icon .v-select span.vs__selected {
  padding-left: 2rem;
  padding-right: 0;
  @apply text-sm;
}

.v-select .vs__clear {
  display: none;
}

.v-select .vs__search::placeholder,
.v-select .vs__dropdown-toggle,
.v-select .vs__dropdown-menu {
  /* background:white; */
  cursor: pointer !important;
  border: none;
}

.v-select .vs__actions {
  position: absolute;
  top: 6px;
  right: 0px;
}

.v-select .vs__actions svg {
  cursor: pointer;
  fill: rgba(1, 58, 75, 1);
}

.v-select .vs__actions svg.vs__open-indicator {
  @apply fill-current;
  @apply text-theme-500;
  /* fill: rgba(0,112,204,1); */
  transform: scale(0.65);
}

.v-select .vs--open .vs__actions svg.vs__open-indicator {
  transform: scale(0.65) rotate(-180deg);
}

.v-select .v-select ul,
.v-select .v-select li {
  // overflow-x: visible;
  margin: 0;
  width: 100%;
}

.mode-dark {
  .v-select span.vs__selected {
    color: white;
  }
}

.v-select {
  div.select {
    &::after {
      opacity: 0;
    }
  }
}

.bg-checkered {
  background: repeating-conic-gradient(#f3f4f6 0% 25%, white 0% 50%) 50% / 20px 20px;
}

.loading {
  --background: linear-gradient(90deg,
      rgba(245, 245, 245, 0) 0%,
      rgba(245, 245, 245, 1) 51%,
      rgba(245, 245, 245, 0) 100%);
  --animation-speed: 1s;
  position: relative;
  overflow: hidden;

  &::after {
    content: "";
    display: block;
    background: var(--background);
    background-position: center;
    background-size: cover;
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    transform: translateX(0);
    animation: var(--animation-speed) loading-placeholder ease-in-out infinite;
  }
}

.dark .loading {
  &::after {
    background: linear-gradient(90deg,
        rgba(23, 23, 23, 0) 0%,
        rgba(23, 23, 23, 1) 51%,
        rgba(23, 23, 23, 0) 100%) !important;
  }
}

@keyframes loading-placeholder {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

.notification-alert {
  animation: 2s notification-alert-placeholder ease-in-out infinite;
}

@keyframes notification-alert-placeholder {
  0% {
    @apply bg-theme-100 text-theme-500;
  }

  50% {
    @apply bg-theme-300 text-theme-700;
  }

  100% {
    @apply bg-theme-100 text-theme-500;
  }

}

// set for chrome 29+
@media screen and (-webkit-min-device-pixel-ratio:0) and (min-resolution:.001dpcm) {
  img {
    image-rendering: -webkit-optimize-contrast !important;
  }
}

// Unset for Safari 11+ 
@media not all and (min-resolution:.001dpcm) {
  @supports (-webkit-appearance:none) and (stroke-color:transparent) {
    img {
      image-rendering: unset !important;
    }
  }
}

.form-section label {
  @apply block text-xs font-bold tracking-wide uppercase
}

.form-section {
  @apply p-4 rounded grid grid-cols-2 items-center
}

.input-section {
  @apply col-span-2 grid grid-cols-2 items-center py-2
}